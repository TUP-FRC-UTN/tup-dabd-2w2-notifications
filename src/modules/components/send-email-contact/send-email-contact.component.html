<div class="card">
    <div class="card-body">
        <form #form="ngForm" (submit)="submit()">
            <!---->
            <div class="row">
                <div class="col-6">
                    <label class="form-label">Elegir Contactos:</label>
                    <div class="d-flex align-items-center">
                        <select class="form-select me-2" style="max-width: 350px;" name="Contactos" id="contactos" [(ngModel)]="selectedContactId">
                            @for (c of allContacts; track $index) {
                                <option [value]="c.id"> {{c.contact_value}} </option>
                            }
                        </select>
                        <button type="button" class="btn btn-secondary"(click)="addContact()"> + </button>
                    </div>
                </div>
                <div class="col-6">
                    <h6>Contactos Seleccionados:</h6>
                    @for (selectedContactId of contacts_id; track $index) {
                        <p> {{showContactById(selectedContactId)}} </p>
                    }
                </div>
            </div>
            <!---->
            <label class="form-label mt-3">Asunto:</label>
            <input name="subject" type="text" class="form-control" style="max-width: 350px;" [(ngModel)]="subjectToSend">
            <!---->
            <h6 class="mt-3">Variables</h6>
            <div class="mb-3">
                <div class="row">
                    <div class="col-6">
                        <label class="form-label">Nombre:</label>
                        <input type="text" class="form-control" id="nombre" name="nombre" style="max-width: 200px;"
                        [(ngModel)]="variableName"/>
                        <label class="form-label">Valor:</label>
                        <input type="text" class="form-control" id="valor" name="valor" style="max-width: 200px;"
                        [(ngModel)]="variableValue"/>
                    </div>
                    <div class="col-6">
                        <button type="button" class="btn btn-secondary mb-3" (click)="addVariables()">+</button>
                        <br>
                        <h6>Tus Variables:</h6>
                        @for (item of variables; track $index) {
                            <p>Nombre: {{item.key}} Valor: {{item.value}}</p>
                        }
                    </div>
                </div>
            </div>
            <!---->
            <h6>Plantillas</h6>
                <select class="form-select" style="max-width: 200px;" name="plantillas" id="plantillas"
                [(ngModel)]="template_id">
                @for (item of allTemplates; track $index) {
                    <option [value]="item.id"> {{item.name}} </option>
                }
                </select>
                
            <!-- Si encuentran otra forma de hacerlo, haganlo-->
            <div class="row"> 
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"></div>
                <div class="col-1"><button type="submit" class="btn btn-primary">Enviar</button></div>
            </div>
        </form>
    </div>
</div>
